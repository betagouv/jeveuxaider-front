<template>
  <section class="py-16 bg-gray-50 overflow-hidden relative">
    <img
      src="/images/homepage/deco_2.svg"
      alt="D√©corations"
      class="deco--2 absolute hidden lg:block pointer-events-none"
      data-not-lazy
    >

    <img
      src="/images/homepage/deco_3.svg"
      alt="D√©corations"
      class="deco--3 absolute hidden lg:block pointer-events-none"
      data-not-lazy
    >

    <div class="container mx-auto px-4 xl:max-w-[1412px]">
      <h2
        class="text-4xl lg:text-[40px] lg:leading-[42px] tracking-tight text-center text-[#AFAFAE]"
      >
        Paroles de
        <strong class="font-extrabold">b√©n√©voles</strong>
      </h2>

      <Slideshow :slides-count="testimonies.length" :settings="settings" class="mt-12">
        <div v-for="testimony,index in testimonies" :key="index">
          <div
            class="testimony--wrapper flex flex-col items-center space-y-6 text-center max-w-[768px] mx-auto"
          >
            <img
              :src="testimony.organization.logo.default"
              :srcset="
                testimony.organization.logo.x2
                  ? `${testimony.organization.logo.x2} 2x`
                  : false
              "
              :alt="testimony.organization.name"
              class="max-w-[150px] max-h-[60px] object-contain w-full h-full"
              :width="testimony.organization.logo.width"
              :height="testimony.organization.logo.height"
              data-not-lazy
            >

            <div class="text-xl lg:text-2xl leading-relaxed">
              "{{ testimony.content | decodeHTMLEntities }}"
            </div>

            <div class="flex items-center space-x-4">
              <img
                v-if="testimony.author.image"
                :src="testimony.author.image.default"
                :srcset="
                  testimony.author.image.x2
                    ? `${testimony.author.image.x2} 2x`
                    : false
                "
                :alt="testimony.author.name"
                width="40"
                height="40"
                class="flex-none rounded-full overflow-hidden"
              >

              <div
                class="text-left flex flex-col md:flex-row md:flex-wrap md:items-center"
              >
                <span class="font-bold text-[#111827]">
                  {{ testimony.author.name }}
                </span>
                <span
                  class="text-[#A7A7B0] font-bold mx-2 text-lg hidden md:inline-block"
                >/</span>
                <span class="text-[#A7A7B0]">
                  B√©n√©vole chez
                  <span class="uppercase font-bold">
                    {{ testimony.organization.name }}
                  </span>
                </span>
              </div>
            </div>
          </div>
        </div>
      </Slideshow>
    </div>
  </section>
</template>

<script>
export default {
  data () {
    return {
      testimonies: [
        {
          content: `Experience tr√®s positive qui m'a permise d'√™tre utile envers les autres, mais aussi de rencontrer des belles personnes.
Je me suis d√©sormais active dans la Banque Alimentaire pr√®s de chez moi deux matin√©es par semaine&nbsp;üôÇ`,
          author: {
            name: 'Anne-Marie',
            image: {
              default: '/images/temoignages/portraits/annemarie.jpg',
              x2: '/images/temoignages/portraits/annemarie@2x.jpg'
            }
          },
          organization: {
            name: 'Banque Alimentaire',
            logo: {
              default: '/images/temoignages/organisations/banques_alimentaires.png',
              x2: '/images/temoignages/organisations/banques_alimentaires@2x.png',
              width: 150,
              height: 34
            }
          }
        },
        {
          content: 'Une exp√©rience formidable avec un super groupe de vacanciers et d\'accompagnateurs. On s\'est vite sentis comme en famille. H√¢te de partir √† nouveau avec l\'APF l\'ann√©e prochaine &nbsp;!',
          author: {
            name: 'Romain',
            image: {
              default: '/images/temoignages/portraits/romain.jpg',
              x2: '/images/temoignages/portraits/romain@2x.jpg'
            }
          },
          organization: {
            name: 'APF Evasion France Handicap',
            logo: {
              default: '/images/temoignages/organisations/APF_Evasion_France_Handicap.svg',
              x2: null,
              width: 95,
              height: 60
            }
          }
        },
        {
          content: 'Superbe et enrichissante. En tant que b√©n√©vole arbitre j‚Äôai rencontr√© des joueurs tol√©rants passionn√©s qui ont la passion au dessus de l‚Äôenjeu. Une exp√©rience sans pareil.',
          author: {
            name: 'Romaric'
          },
          organization: {
            name: 'Comit√© D√©partemental du Sport Adapt√© Dr√¥me - Ard√®che',
            logo: {
              default: '/images/temoignages/organisations/comite_departemental_sport_adapte_drome_ardeche.webp',
              x2: null
            }
          }
        },
        {
          content: 'Tr√®s belle exp√©rience, une magnifique √©quipe, de beaux moments pass√©s, beau spectacle.',
          author: {
            name: 'Ange'
          },
          organization: {
            name: 'Le Temps des Rues',
            logo: {
              default: '/images/temoignages/organisations/le_temps_des_rues.webp',
              x2: null
            }
          }
        },
        {
          content: 'Bel √©change et super accompagnement par l\'√©quipe. On se sent utile et les ateliers sont super bien encadr√©s !',
          author: {
            name: 'Maud'
          },
          organization: {
            name: 'Kodiko',
            logo: {
              default: '/images/temoignages/organisations/kodiko.webp',
              x2: null
            }
          }
        },
        {
          content: 'J‚Äôai ador√© cette exp√©rience. L‚Äô√©quipe est formidable et les b√©n√©voles sont tellement admirables. Pour une premi√®re, j‚Äôai ador√©. Un grand merci üôèüèΩ',
          author: {
            name: 'Kevin'
          },
          organization: {
            name: 'TRIATHL\'AIX',
            logo: {
              default: '/images/temoignages/organisations/triathlaix.webp',
              x2: null
            }
          }
        },
        {
          content: 'Tr√®s bonne exp√©rience. J\'ai p√ª voir l\'organisation d\'un bureau de vote. Et par la m√™me occasion rencontrer des gens tr√®s sympathiques!',
          author: {
            name: 'Corinne'
          },
          organization: {
            name: 'Commune de Beaussais-sur-Mer',
            logo: {
              default: '/images/temoignages/organisations/beaussais_sur_mer.webp',
              x2: null
            }
          }
        },
        {
          content: 'Tr√®s belle exp√©rience! J\'ai fait le plein de bonnes ondes gr√¢ce √† cette matin√©e de collecte.‚Äú',
          author: {
            name: 'Jennifer'
          },
          organization: {
            name: 'Banque Alimentaire de l\'H√©rault',
            logo: {
              default: '/images/temoignages/organisations/banques_alimentaires.png',
              x2: '/images/temoignages/organisations/banques_alimentaires@2x.png',
              width: 150,
              height: 34
            }
          }
        }
      ],
      settings: {
        arrows: true,
        dots: true,
        speed: 500,
        edgeFriction: 0,
        touchThreshold: 100,
        infinite: true
      }
    }
  }
}
</script>

<style lang="postcss" scoped>

.deco--2 {
  left: calc(50% - 728px);
  top: 50px;
}

.deco--3 {
  right: calc(50% - 728px);
  top: -12px;
}

.testimony--wrapper {
  @screen sm {
    width: calc(100% - 150px);
  }
}

::v-deep .slick-slider {
  .wrapper--slick-dots {
    display: block !important;
  }

  .slick-dots {
    @apply !text-center;
  }

  .slick-track {
    @apply space-x-0;
  }

  .slick-list {
    overflow: hidden;
  }
}

</style>
